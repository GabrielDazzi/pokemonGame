<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Batalha Pok√©mon</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container battle-container">
        <h2>Batalha: {{ battle.pokemon1.name }} vs {{ battle.pokemon2.name }}</h2>

        <div class="battle-panels">
            <div class="pokemon-panel">
                <h3>{{ battle.pokemon1.name }} <span class="level">Lvl {{ battle.pokemon1.level }}</span></h3>
                <div class="hp-bar-container">
                    <div class="hp-bar" style="width: {{ battle.pokemon1.get_hp_percent() }}%;"></div>
                </div>
                <p>HP: {{ battle.pokemon1.current_hp }} / {{ battle.pokemon1.max_hp }}</p>
            </div>
            <div class="pokemon-panel">
                <h3>{{ battle.pokemon2.name }} <span class="level">Lvl {{ battle.pokemon2.level }}</span></h3>
                <div class="hp-bar-container">
                    <div class="hp-bar" style="width: {{ battle.pokemon2.get_hp_percent() }}%;"></div>
                </div>
                <p>HP: {{ battle.pokemon2.current_hp }} / {{ battle.pokemon2.max_hp }}</p>
            </div>
        </div>

        <div class="log">
            {% for entry in battle.log|reverse %}
                <p>{{ entry }}</p>
            {% endfor %}
        </div>

        <div class="turn-actions">
            <h3>Turno de {{ battle.attacker.name }}! O que fazer?</h3>
            <form method="post" class="moves-form">
                {% for move in battle.attacker.moves %}
                    <button name="move" value="{{ move.name }}">{{ move.name.capitalize() }}</button>
                {% endfor %}
            </form>
        </div>
        
    </div>
</body>
</html>